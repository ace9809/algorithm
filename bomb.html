<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">
    var number1 = prompt("입력", "입력");
    twoArray(parseInt(number1));
    function twoArray(number1) {
        var myArray = new Array(number1);
            for (var i = 0; i < number1; i++) {
                myArray[i] = new Array(number1);
            }
            for(var j = 0; j < number1; j++) {
                var ace = random(number1);
                if(myArray[ace.randomStar][ace.randomStar2] !== '*') {
                    myArray[ace.randomStar][ace.randomStar2] = '*'
                }
                else {
                    console.log(myArray);
                    if(myArray[ace.randomStar+1][ace.randomStar+1] !== '*')
                    myArray[ace.randomStar+1][ace.randomStar+1] = '*'
                }
            }
            for (var i = 0; i <number1; i++) {
                for (var j = 0; j < number1; j++) {
                    if (myArray[i][j] != '*') {
                        myArray[i][j] = 0;
                        }
                    }
                }
                findbomb(myArray);
                console.log(myArray);
            }

    function random(number1) {
        var randomStar = Math.floor(Math.random() * number1);
        var randomStar2 = Math.floor(Math.random() * number1);
        return {
            randomStar : randomStar,
            randomStar2 : randomStar2,
        }
    }
    function findbomb(myArray) {
        for(var i = 0; i < myArray.length; i++) {
            for(var j = 0; j< myArray[i].length; j++) {
                if(myArray[i][j] == '*') {
                    for(var row=-1;row<=1;row++){
                        for(var column=-1;column<=1;column++){
                            if((i == 0 && row == -1) || (j == 0 && column == -1))
                                continue;
                            if(((i == myArray.length - 1 && row == 1) || (j == myArray.length - 1 && column == 1)))
                                continue;
                            if (myArray[i+row][j+column] != '*' && typeof(myArray[i+row][j+column]) === 'number'){
                                myArray[i + row][j + column] += 1;
                            }
                        }
                    }
                }
            }
        }
        for(var i=0; i < number1; i++) {
            for(var j=0; j < number1; j++) {
                document.write(myArray[i][j] + "&nbsp");
            }
            document.write("<br>");
        }
    }
</script>

</body>
</html>